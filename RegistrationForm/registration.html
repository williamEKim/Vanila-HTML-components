<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Muse Registration Form</title>
        <link rel="stylesheet" href="registration.css">
    </head>
    <body>
        <div class="container">
            <div class="image">
                <div class="form-box">
                    <div class="form">
                        <h2>Register</h2>
                        <div class="input-box">
                            <input type="text" required class="username">
                            <label for="Username">
                                Username
                            </label>
                        </div>
                        <div class="input-box">
                            <input type="text" required class="email">
                            <label for="Username">
                                Email
                            </label>
                        </div>
                        <div class="input-box">
                            <input type="password" required class="password">
                            <label for="Username">
                                Password
                            </label>
                        </div>
                        <div class="group">
                            <a href="#">Forgot Password</a>
                            <a href="#">Sign in</a>
                        </div>
                        <button>Sign up</button>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script>
        const container = document.querySelector('.container');
        const button = document.querySelector('button');
        const inputs = document.querySelectorAll('input');
        let animationDuration = 40;
        let animationDelay = -20;
        let animationRunning = false;
        let animationRequestId;

        function updateAnimation() {
            container.style.setProperty('--animation-duration', `${animationDuration}s`);
            container.style.setProperty('--animation-delay', `${animationDelay}s`);
        }

        async function animate() {
            if (!animationRunning && animationDuration > 4) {
                animationRunning = true;
                for (let i = 0; i < 4; ++i) {
                await new Promise(resolve => {
                    setTimeout(() => {
                    container.style.animationPlayState = 'paused';
                    animationDuration -= 1;
                    animationDelay += .5;
                    updateAnimation();
                    container.style.animationPlayState = 'running';
                    resolve();
                    }, 1000 * i);
                });
                }
                animationRequestId = requestAnimationFrame(() => {
                setTimeout(() => {
                    animationRunning = false;
                }, 4000);
                });
            }
        }
        inputs.forEach(input => {
        input.addEventListener('keydown', () => {
            animate();
        });
        });

        inputs.forEach(input => {
        input.addEventListener('click', () => {
            animate();
        });
        });


    </script>
</html>